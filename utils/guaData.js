// 64卦数据（完整版）
const guaData = [
 { name: "乾为天", code: "111111", desc: "元亨利贞。", detail: "乾卦象征天，天的四种本质特征是：元、亨、利、贞。" },
  { name: "坤为地", code: "000000", desc: "元亨，利牝马之贞。", detail: "坤卦象征地，地的特点是柔顺、安静、厚德载物。" },
  { name: "水雷屯", code: "010001", desc: "元亨，利贞，勿用有攸往。利建侯。", detail: "屯卦表示起始之难，云雷屯生，君子以经纶。" },
  { name: "山水蒙", code: "100010", desc: "亨。匪我求童蒙，童蒙求我。", detail: "蒙卦表示启蒙，山下有水，启智开蒙。" },
  { name: "水天需", code: "010111", desc: "有孚，光亨，贞吉。利涉大川。", detail: "需卦表示等待，云上于天，君子以饮食宴乐。" },
  { name: "天水讼", code: "111010", desc: "有孚窒惕，中吉，终凶。利见大人，不利涉大川。", detail: "讼卦表示争讼，是非纷争，君子当息讼求和。" },
  { name: "地水师", code: "000010", desc: "贞，丈人吉，无咎。", detail: "师卦表示用兵，君子以作战戒慎。" },
  { name: "水地比", code: "010000", desc: "吉。原筮，元永贞，无咎。", detail: "比卦表示亲附，地上有水，先王以建万国，亲诸侯。" },
  { name: "风天小畜", code: "110111", desc: "亨。密云不雨，自我西郊。", detail: "小畜卦表示蓄养，小有所聚，君子以懿文德。" },
  { name: "天泽履", code: "111011", desc: "履虎尾，不咥人，亨。", detail: "履卦表示行为，谨慎中行，履虎尾者不失。" },
  { name: "地天泰", code: "000111", desc: "小往大来，吉亨。", detail: "泰卦表示通泰，天地交而万物通。" },
  { name: "天地否", code: "111000", desc: "否之匪人，不利君子贞，大往小来。", detail: "否卦表示闭塞，天地不交，万物不通。" },
  { name: "天火同人", code: "111101", desc: "同人于野，亨。利涉大川。利君子贞。", detail: "同人卦表示同道合志，君子以类族辨物。" },
  { name: "火天大有", code: "101111", desc: "元亨。", detail: "大有卦表示大获所有，火在天上，君子以遏恶扬善。" },
  { name: "地山谦", code: "000100", desc: "亨，君子有终。", detail: "谦卦表示谦虚，山下有地，君子以虚受益。" },
  { name: "雷地豫", code: "001000", desc: "利建侯，行师。", detail: "豫卦表示欢愉，雷动地中，君子以讲德行善。" },
  { name: "泽雷随", code: "011001", desc: "元亨利贞，无咎。", detail: "随卦表示顺从，泽随雷动，君子以严正治民。" },
  { name: "山风蛊", code: "100110", desc: "元亨，利涉大川。先甲三日，后甲三日。", detail: "蛊卦表示治理腐败，先后周密，动静有序。" },
  { name: "地泽临", code: "000011", desc: "元亨利贞。至于八月有凶。", detail: "临卦表示临近，君子以教思无穷，容保民无疆。" },
  { name: "风地观", code: "110000", desc: "盥而不荐，有孚颙若。", detail: "观卦表示观察，观天之神道而四时不忒。" },
  { name: "火雷噬嗑", code: "101001", desc: "亨。利用狱。", detail: "噬嗑卦表示咬合整治，刑罚中正。" },
  { name: "山火贲", code: "100101", desc: "亨。小利有攸往。", detail: "贲卦表示文饰，饰外扬内。" },
  { name: "山地剥", code: "100000", desc: "不利有攸往。", detail: "剥卦表示剥落，阴盛阳衰，小人得势。" },
  { name: "地雷复", code: "000001", desc: "亨。出入无疾，朋来无咎。", detail: "复卦表示回复，一阳来复，生机再现。" },
  { name: "天雷无妄", code: "111001", desc: "元亨，利贞。其匪正有眚。不利有攸往。", detail: "无妄卦表示无妄之灾，诚以正道。" },
  { name: "山天大畜", code: "100111", desc: "利贞。不家食吉。利涉大川。", detail: "大畜卦表示蓄养，大者所蓄，君子以教思无穷。" },
  { name: "山雷颐", code: "100001", desc: "贞吉。观颐，自求口实。", detail: "颐卦表示养育，修养身心，以资性命。" },
  { name: "泽风大过", code: "011110", desc: "栋桡，利有攸往，亨。", detail: "大过卦表示超越极限，栋梁已弯，不可持久。" },
  { name: "坎为水", code: "010010", desc: "习坎，入于坎窞，凶。", detail: "坎卦象征陷险，重险难行，君子以常德行险。" },
  { name: "离为火", code: "101101", desc: "利贞，亨。畜牝牛吉。", detail: "离卦象征火，光明、依附，君子以继明照四方。" },
  { name: "泽山咸", code: "011100", desc: "亨。利贞，取女吉。", detail: "咸卦表示感应，二人相感，以成婚姻。" },
  { name: "雷风恒", code: "001110", desc: "亨，无咎，利贞，利有攸往。", detail: "恒卦表示恒久，日月恒照，君子以立身行正。" },
  { name: "天山遁", code: "111100", desc: "亨，小利贞。", detail: "遁卦表示退避，君子应远小人，不恶而严。" },
  { name: "雷天大壮", code: "001111", desc: "利贞。", detail: "大壮卦表示强盛，雷在天上，君子以非礼弗履。" },
  { name: "火地晋", code: "101000", desc: "康侯用锡马蕃庶，昼日三接。", detail: "晋卦表示晋升，明出地上，君子以自昭明德。" },
  { name: "地火明夷", code: "000101", desc: "利艰贞。", detail: "明夷卦表示光明受伤，潜藏以待时。" },
  { name: "风火家人", code: "110101", desc: "利女贞。", detail: "家人卦表示齐家治政，纲常秩序。" },
  { name: "火泽睽", code: "101011", desc: "小事吉。", detail: "睽卦表示分歧对立，求同存异。" },
  { name: "水山蹇", code: "010100", desc: "利西南，不利东北。", detail: "蹇卦表示艰难险阻，君子当退而自修。" },
  { name: "雷水解", code: "001010", desc: "利西南，无所往，其来复吉。", detail: "解卦表示解脱困境，逢凶化吉。" },
  { name: "山泽损", code: "100011", desc: "有孚，元吉，无咎，可贞。利有攸往。", detail: "损卦表示减少，为人损己益人。" },
  { name: "风雷益", code: "110001", desc: "利有攸往。利涉大川。", detail: "益卦表示增加，利人利己。" },
  { name: "泽天夬", code: "011111", desc: "扬于王庭，孚号有厉。", detail: "夬卦表示决断，泽上于天，君子以施禄及下。" },
  { name: "天风姤", code: "111110", desc: "女壮，勿用取女。", detail: "姤卦表示相遇，一阴遇五阳，不宜娶女。" },
  { name: "泽地萃", code: "011000", desc: "亨。王假有庙，利见大人，亨，利贞，用大牲吉。利有攸往。", detail: "萃卦表示聚集，君子以除戎器，戒不虞。" },
  { name: "地风升", code: "000110", desc: "元亨，用见大人，勿恤，南征吉。", detail: "升卦表示上升，步步高升。" },
  { name: "泽水困", code: "011010", desc: "亨，贞，大人吉，无咎，有言不信。", detail: "困卦表示受困，泽无水，君子以致命遂志。" },
  { name: "水风井", code: "010110", desc: "改邑不改井，无丧无得。", detail: "井卦表示取用不竭，德润万物。" },
  { name: "泽火革", code: "011101", desc: "已日乃孚，元亨，利贞，悔亡。", detail: "革卦表示革除旧弊，改革更新。" },
  { name: "火风鼎", code: "101110", desc: "元吉，亨。", detail: "鼎卦象征鼎盛，改制图治，天下大治。" },
  { name: "震为雷", code: "001001", desc: "亨。震来虩虩，笑言哑哑，震惊百里，不丧匕鬯。", detail: "震卦象征雷动，动而有威，君子以恐惧修省。" },
  { name: "艮为山", code: "100100", desc: "艮其背，不获其身。行其庭，不见其人，无咎。", detail: "艮卦表示止步不前，止于至善。" },
  { name: "风山渐", code: "110100", desc: "女归吉，利贞。", detail: "渐卦表示逐步推进，循序渐进。" },
  { name: "雷泽归妹", code: "001011", desc: "征凶，无攸利。", detail: "归妹卦表示婚嫁，男女之道，正当为吉。" },
  { name: "风泽中孚", code: "110011", desc: "豚鱼吉，利涉大川，利贞。", detail: "中孚卦表示诚信中正。" },
  { name: "雷火丰", code: "001101", desc: "亨，王假之，勿忧，宜日中。", detail: "丰卦表示盛大光明。" },
  { name: "火山旅", code: "101100", desc: "小亨，旅贞吉。", detail: "旅卦表示旅途，依附而行，顺时而动。" },
  { name: "巽为风", code: "110110", desc: "小亨，利有攸往，利见大人。", detail: "巽卦象征风入万物，谦逊入德。" },
  { name: "兑为泽", code: "011011", desc: "亨，利贞。", detail: "兑卦象征喜悦，兑者悦也，君子以朋友讲习。" },
  { name: "涣", code: "110010", desc: "亨。王假有庙，利涉大川，利贞。", detail: "涣卦表示涣散，风吹水面，君子以扬名立信。" },
  { name: "节", code: "010011", desc: "亨。苦节不可贞。", detail: "节卦表示节制。" },
  { name: "中孚", code: "110011", desc: "豚鱼吉，利涉大川，利贞。", detail: "中孚卦表示诚信中正。" },
  { name: "小过", code: "001100", desc: "亨，利贞。可小事，不可大事。", detail: "小过卦表示过微之失，宜谦慎行事。" },
  { name: "既济", code: "010101", desc: "亨，小利贞。初吉终乱。", detail: "既济卦表示事已完成。" },
  { name: "未济", code: "101010", desc: "亨。小狐汔济，濡其尾，无攸利。", detail: "未济卦表示未完成，处事慎终如始。" },

  // 其他卦象...（实际使用时需补全64卦）
];

// 变卦解释数据
const bianGuaData = {
  "111111_000000": { 
    name: "乾之坤", 
    desc: "招殃来螯，害我邦国。病伤手足，不得安息。",
    detail: "此变卦显示事物发展乾（天）变坤（地），天地冲突，预示灾祸伤及国家与个人。"
  },
  "000000_111111": { 
    name: "坤之乾", 
    desc: "不风不雨，白日皎皎。宜出驱驰，通利大道。",
    detail: "此变卦显示坤（顺）转乾（健），象征天地和谐，无风雨阻隔，宜行大事。"
  },
  // 其他变卦解释...（实际使用时需补全）
};

// 根据卦象代码查找卦象数据
function findGuaByCode(code) {
  return guaData.find(item => item.code === code) || {
    name: "未知卦象",
    desc: "未能找到对应的卦辞",
    detail: "请重新摇卦"
  };
}

// 查找变卦解释
function findBianGua(benCode, bianCode) {
  const key = `${benCode}_${bianCode}`;
  return bianGuaData[key] || {
    name: `${findGuaByCode(benCode).name}之${findGuaByCode(bianCode).name}`,
    desc: "此卦象变化表示事物发展过程中的重要转变。",
    detail: `从${findGuaByCode(benCode).name}变为${findGuaByCode(bianCode).name}，显示情况正在发生根本性变化。`
  };
}

module.exports = {
  guaData,
  findGuaByCode,
  findBianGua
}
