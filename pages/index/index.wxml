<view class="container">
  <view class="header">
    <text>易经摇卦</text>
  </view>
  
  <view class="instructions">
    <text>请摇动手机生成卦象</text>
  </view>
  
  <view class="coins-container" wx:if="{{showingCoins}}">
    <view class="coin" wx:for="{{coins}}" wx:key="index">
      <image src="{{item === 1 ? '/assets/coin_front.png' : '/assets/coin_back.png'}}" mode="aspectFit"></image>
    </view>
  </view>
  
  <view class="options" wx:if="{{showOptions}}">
    <text>请选择本次摇卦结果：</text>
    <button bindtap="selectOption" data-value="3">老阳 (全正)</button>
    <button bindtap="selectOption" data-value="0">老阴 (全反)</button>
    <button bindtap="selectOption" data-value="2">少阳 (两正一反)</button>
    <button bindtap="selectOption" data-value="1">少阴 (两反一正)</button>
  </view>
  
  <view class="progress" wx:if="{{currentStep > 0}}">
    <text>已完成 {{currentStep}}/6 次摇卦</text>
    <progress percent="{{currentStep/6*100}}" show-info stroke-width="6"></progress>
  </view>
  
  <view class="history" wx:if="{{history.length > 0}}">
    <text>历史记录：</text>
    <view wx:for="{{history}}" wx:key="index">
      <text>第{{index+1}}次: {{['少阴','少阳','老阴','老阳'][item]}}</text>
    </view>
  </view>
</view>
